im_in  = double( imread('../imagens/mamaoriginal.jpg') );

r = 0:255;

%---------------------------------------------------------------------
%negativo
% s( 1 + r ) = 255 - r; 

%---------------------------------------------------------------------
%identidade
%s( 1 + r ) = r; 

%---------------------------------------------------------------------
%logaritmica

%---------------------------------------------------------------------
%exponencial
%factor = 500;
%s( 1 + r ) = ( 255 / ( exp( 255 / factor ) - 1 ) ) * ( exp( r / factor ) - 1 ); 

%---------------------------------------------------------------------
%potencia
%factor = .5;
%s( 1 + r ) = ( 255 / ( 255 .^ factor ) ) * ( r .^ factor ); 


%---------------------------------------------------------------------
%por faixas
%
%r0 = 0 ; s0 = 0;
%r1 = 20 ; s1 = 10;
%r2 = 200; s2 = 230;
%r3 = 255; s3 = 255;

%r = r0:r1;
%a = ( s1 - s0 ) / ( r1 - r0 );
%b = s0 - a * r0;
%s ( 1 + r ) = a * r + b; 
%
%r = r1+1:r2;
%a = ( s2 - s1 ) / ( r2 - r1 );
%b = s1 - a * r1;
%s ( 1 + r ) = a * r + b; 
%
%r = r2+1:r3;
%a = ( s3 - s2 ) / ( r3 - r2 );
%b = s2 - a * r2;
%s ( 1 + r ) = a * r + b; 
%%
%r = 0:255;

%=====================================================================
im_out = s ( im_in + 1);
%=====================================================================

%---------------------------------------------------------------------
%show imagem original

subplot( 1, 3, 1 ); imshow( mat2gray( im_in ) );
title("Original");
%---------------------------------------------------------------------
%show plot de funcao

subplot( 1, 3, 2 ); plot( r , s );
axis( [ 0, 255, 0, 255 ] );
title("Histograma");

xlabel('r')
ylabel('s(r)')

%---------------------------------------------------------------------
%show imagem processada

subplot( 1, 3, 3 ); imshow( mat2gray( im_out ) );
title("Processada");

%---------------------------------------------------------------------

